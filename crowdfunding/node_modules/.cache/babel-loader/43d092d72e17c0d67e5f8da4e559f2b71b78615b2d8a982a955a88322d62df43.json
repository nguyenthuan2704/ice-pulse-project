{"ast":null,"code":"/*\n* debouncedresize: special jQuery event that happens once after a window resize\n*\n* latest version and complete README available on Github:\n* https://github.com/louisremi/jquery-smartresize/blob/master/jquery.debouncedresize.js\n*\n* Copyright 2011 @louis_remi\n* Licensed under the MIT license.\n*/\nvar $event = $.event,\n  $special,\n  resizeTimeout;\n$special = $event.special.debouncedresize = {\n  setup: function () {\n    $(this).on(\"resize\", $special.handler);\n  },\n  teardown: function () {\n    $(this).off(\"resize\", $special.handler);\n  },\n  handler: function (event, execAsap) {\n    // Save the context\n    var context = this,\n      args = arguments,\n      dispatch = function () {\n        // set correct event type\n        event.type = \"debouncedresize\";\n        $event.dispatch.apply(context, args);\n      };\n    if (resizeTimeout) {\n      clearTimeout(resizeTimeout);\n    }\n    execAsap ? dispatch() : resizeTimeout = setTimeout(dispatch, $special.threshold);\n  },\n  threshold: 250\n};\n\n// ======================= imagesLoaded Plugin ===============================\n// https://github.com/desandro/imagesloaded\n\n// $('#my-container').imagesLoaded(myFunction)\n// execute a callback when all images have loaded.\n// needed because .load() doesn't work on cached images\n\n// callback function gets image collection as argument\n//  this is the container\n\n// original: MIT license. Paul Irish. 2010.\n// contributors: Oren Solomianik, David DeSandro, Yiannis Chatzikonstantinou\n\n// blank image data-uri bypasses webkit log warning (thx doug jones)\nvar BLANK = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\n$.fn.imagesLoaded = function (callback) {\n  var $this = this,\n    deferred = $.isFunction($.Deferred) ? $.Deferred() : 0,\n    hasNotify = $.isFunction(deferred.notify),\n    $images = $this.find('img').add($this.filter('img')),\n    loaded = [],\n    proper = [],\n    broken = [];\n\n  // Register deferred callbacks\n  if ($.isPlainObject(callback)) {\n    $.each(callback, function (key, value) {\n      if (key === 'callback') {\n        callback = value;\n      } else if (deferred) {\n        deferred[key](value);\n      }\n    });\n  }\n  function doneLoading() {\n    var $proper = $(proper),\n      $broken = $(broken);\n    if (deferred) {\n      if (broken.length) {\n        deferred.reject($images, $proper, $broken);\n      } else {\n        deferred.resolve($images);\n      }\n    }\n    if ($.isFunction(callback)) {\n      callback.call($this, $images, $proper, $broken);\n    }\n  }\n  function imgLoaded(img, isBroken) {\n    // don't proceed if BLANK image, or image is already loaded\n    if (img.src === BLANK || $.inArray(img, loaded) !== -1) {\n      return;\n    }\n\n    // store element in loaded images array\n    loaded.push(img);\n\n    // keep track of broken and properly loaded images\n    if (isBroken) {\n      broken.push(img);\n    } else {\n      proper.push(img);\n    }\n\n    // cache image and its state for future calls\n    $.data(img, 'imagesLoaded', {\n      isBroken: isBroken,\n      src: img.src\n    });\n\n    // trigger deferred progress method if present\n    if (hasNotify) {\n      deferred.notifyWith($(img), [isBroken, $images, $(proper), $(broken)]);\n    }\n\n    // call doneLoading and clean listeners if all images are loaded\n    if ($images.length === loaded.length) {\n      setTimeout(doneLoading);\n      $images.unbind('.imagesLoaded');\n    }\n  }\n\n  // if no images, trigger immediately\n  if (!$images.length) {\n    doneLoading();\n  } else {\n    $images.bind('load.imagesLoaded error.imagesLoaded', function (event) {\n      // trigger imgLoaded\n      imgLoaded(event.target, event.type === 'error');\n    }).each(function (i, el) {\n      var src = el.src;\n\n      // find out if this image has been already checked for status\n      // if it was, and src has not changed, call imgLoaded on it\n      var cached = $.data(el, 'imagesLoaded');\n      if (cached && cached.src === src) {\n        imgLoaded(el, cached.isBroken);\n        return;\n      }\n\n      // if complete is true and browser supports natural sizes, try\n      // to check for image status manually\n      if (el.complete && el.naturalWidth !== undefined) {\n        imgLoaded(el, el.naturalWidth === 0 || el.naturalHeight === 0);\n        return;\n      }\n\n      // cached images don't fire load sometimes, so we reset src, but only when\n      // dealing with IE, or image is complete (loaded) and failed manual check\n      // webkit hack from http://groups.google.com/group/jquery-dev/browse_thread/thread/eee6ab7b2da50e1f\n      if (el.readyState || el.complete) {\n        el.src = BLANK;\n        el.src = src;\n      }\n    });\n  }\n  return deferred ? deferred.promise($this) : $this;\n};\nvar Grid = function () {\n  // list of items\n  var $grid = $('#og-grid'),\n    // the items\n    $items = $grid.children('li'),\n    // current expanded item's index\n    current = -1,\n    // position (top) of the expanded item\n    // used to know if the preview will expand in a different row\n    previewPos = -1,\n    // extra amount of pixels to scroll the window\n    scrollExtra = 0,\n    // extra margin when expanded (between preview overlay and the next items)\n    marginExpanded = 10,\n    $window = $(window),\n    winsize,\n    $body = $('html, body'),\n    // transitionend events\n    transEndEventNames = {\n      'WebkitTransition': 'webkitTransitionEnd',\n      'MozTransition': 'transitionend',\n      'OTransition': 'oTransitionEnd',\n      'msTransition': 'MSTransitionEnd',\n      'transition': 'transitionend'\n    },\n    transEndEventName = transEndEventNames[Modernizr.prefixed('transition')],\n    // support for csstransitions\n    support = Modernizr.csstransitions,\n    // default settings\n    settings = {\n      minHeight: 500,\n      speed: 350,\n      easing: 'ease'\n    };\n  function init(config) {\n    // the settings..\n    settings = $.extend(true, {}, settings, config);\n\n    // preload all images\n    $grid.imagesLoaded(function () {\n      // save item´s size and offset\n      saveItemInfo(true);\n      // get window´s size\n      getWinSize();\n      // initialize some events\n      initEvents();\n    });\n  }\n\n  // add more items to the grid.\n  // the new items need to appended to the grid.\n  // after that call Grid.addItems(theItems);\n  function addItems($newitems) {\n    $items = $items.add($newitems);\n    $newitems.each(function () {\n      var $item = $(this);\n      $item.data({\n        offsetTop: $item.offset().top,\n        height: $item.height()\n      });\n    });\n    initItemsEvents($newitems);\n  }\n\n  // saves the item´s offset top and height (if saveheight is true)\n  function saveItemInfo(saveheight) {\n    $items.each(function () {\n      var $item = $(this);\n      $item.data('offsetTop', $item.offset().top);\n      if (saveheight) {\n        $item.data('height', $item.height());\n      }\n    });\n  }\n  function initEvents() {\n    // when clicking an item, show the preview with the item´s info and large image.\n    // close the item if already expanded.\n    // also close if clicking on the item´s cross\n    initItemsEvents($items);\n\n    // on window resize get the window´s size again\n    // reset some values..\n    $window.on('debouncedresize', function () {\n      scrollExtra = 0;\n      previewPos = -1;\n      // save item´s offset\n      saveItemInfo();\n      getWinSize();\n      var preview = $.data(this, 'preview');\n      if (typeof preview != 'undefined') {\n        hidePreview();\n      }\n    });\n  }\n  function initItemsEvents($items) {\n    $items.on('click', 'span.og-close', function () {\n      hidePreview();\n      return false;\n    }).children('a').on('click', function (e) {\n      var $item = $(this).parent();\n      // check if item already opened\n      current === $item.index() ? hidePreview() : showPreview($item);\n      return false;\n    });\n  }\n  function getWinSize() {\n    winsize = {\n      width: $window.width(),\n      height: $window.height()\n    };\n  }\n  function showPreview($item) {\n    var preview = $.data(this, 'preview'),\n      // item´s offset top\n      position = $item.data('offsetTop');\n    scrollExtra = 0;\n\n    // if a preview exists and previewPos is different (different row) from item´s top then close it\n    if (typeof preview != 'undefined') {\n      // not in the same row\n      if (previewPos !== position) {\n        // if position > previewPos then we need to take te current preview´s height in consideration when scrolling the window\n        if (position > previewPos) {\n          scrollExtra = preview.height;\n        }\n        hidePreview();\n      }\n      // same row\n      else {\n        preview.update($item);\n        return false;\n      }\n    }\n\n    // update previewPos\n    previewPos = position;\n    // initialize new preview for the clicked item\n    preview = $.data(this, 'preview', new Preview($item));\n    // expand preview overlay\n    preview.open();\n  }\n  function hidePreview() {\n    current = -1;\n    var preview = $.data(this, 'preview');\n    preview.close();\n    $.removeData(this, 'preview');\n  }\n\n  // the preview obj / overlay\n  function Preview($item) {\n    this.$item = $item;\n    this.expandedIdx = this.$item.index();\n    this.create();\n    this.update();\n  }\n  Preview.prototype = {\n    create: function () {\n      // create Preview structure:\n      this.$title = $('<h3></h3>');\n      this.$description = $('<p></p>');\n      this.$href = $('<a href=\"#\">Read More</a>');\n      this.$details = $('<div class=\"og-details\"></div>').append(this.$title, this.$description, this.$href);\n      this.$loading = $('<div class=\"og-loading\"></div>');\n      this.$fullimage = $('<div class=\"og-fullimg\"></div>').append(this.$loading);\n      this.$closePreview = $('<span class=\"og-close\"></span>');\n      this.$previewInner = $('<div class=\"og-expander-inner\"></div>').append(this.$closePreview, this.$fullimage, this.$details);\n      this.$previewEl = $('<div class=\"og-expander\"></div>').append(this.$previewInner);\n      // append preview element to the item\n      this.$item.append(this.getEl());\n      // set the transitions for the preview and the item\n      if (support) {\n        this.setTransition();\n      }\n    },\n    update: function ($item) {\n      if ($item) {\n        this.$item = $item;\n      }\n\n      // if already expanded remove class \"og-expanded\" from current item and add it to new item\n      if (current !== -1) {\n        var $currentItem = $items.eq(current);\n        $currentItem.removeClass('og-expanded');\n        this.$item.addClass('og-expanded');\n        // position the preview correctly\n        this.positionPreview();\n      }\n\n      // update current value\n      current = this.$item.index();\n\n      // update preview´s content\n      var $itemEl = this.$item.children('a'),\n        eldata = {\n          href: $itemEl.attr('href'),\n          largesrc: $itemEl.data('largesrc'),\n          title: $itemEl.data('title'),\n          description: $itemEl.data('description')\n        };\n      this.$title.html(eldata.title);\n      this.$description.html(eldata.description);\n      this.$href.attr('href', eldata.href);\n      var self = this;\n\n      // remove the current image in the preview\n      if (typeof self.$largeImg != 'undefined') {\n        self.$largeImg.remove();\n      }\n\n      // preload large image and add it to the preview\n      // for smaller screens we don´t display the large image (the media query will hide the fullimage wrapper)\n      if (self.$fullimage.is(':visible')) {\n        this.$loading.show();\n        $('<img/>').load(function () {\n          var $img = $(this);\n          if ($img.attr('src') === self.$item.children('a').data('largesrc')) {\n            self.$loading.hide();\n            self.$fullimage.find('img').remove();\n            self.$largeImg = $img.fadeIn(350);\n            self.$fullimage.append(self.$largeImg);\n          }\n        }).attr('src', eldata.largesrc);\n      }\n    },\n    open: function () {\n      setTimeout($.proxy(function () {\n        // set the height for the preview and the item\n        this.setHeights();\n        // scroll to position the preview in the right place\n        this.positionPreview();\n      }, this), 25);\n    },\n    close: function () {\n      var self = this,\n        onEndFn = function () {\n          if (support) {\n            $(this).off(transEndEventName);\n          }\n          self.$item.removeClass('og-expanded');\n          self.$previewEl.remove();\n        };\n      setTimeout($.proxy(function () {\n        if (typeof this.$largeImg !== 'undefined') {\n          this.$largeImg.fadeOut('fast');\n        }\n        this.$previewEl.css('height', 0);\n        // the current expanded item (might be different from this.$item)\n        var $expandedItem = $items.eq(this.expandedIdx);\n        $expandedItem.css('height', $expandedItem.data('height')).on(transEndEventName, onEndFn);\n        if (!support) {\n          onEndFn.call();\n        }\n      }, this), 25);\n      return false;\n    },\n    calcHeight: function () {\n      var heightPreview = winsize.height - this.$item.data('height') - marginExpanded,\n        itemHeight = winsize.height;\n      if (heightPreview < settings.minHeight) {\n        heightPreview = settings.minHeight;\n        itemHeight = settings.minHeight + this.$item.data('height') + marginExpanded;\n      }\n      this.height = heightPreview;\n      this.itemHeight = itemHeight;\n    },\n    setHeights: function () {\n      var self = this,\n        onEndFn = function () {\n          if (support) {\n            self.$item.off(transEndEventName);\n          }\n          self.$item.addClass('og-expanded');\n        };\n      this.calcHeight();\n      this.$previewEl.css('height', this.height);\n      this.$item.css('height', this.itemHeight).on(transEndEventName, onEndFn);\n      if (!support) {\n        onEndFn.call();\n      }\n    },\n    positionPreview: function () {\n      // scroll page\n      // case 1 : preview height + item height fits in window´s height\n      // case 2 : preview height + item height does not fit in window´s height and preview height is smaller than window´s height\n      // case 3 : preview height + item height does not fit in window´s height and preview height is bigger than window´s height\n      var position = this.$item.data('offsetTop'),\n        previewOffsetT = this.$previewEl.offset().top - scrollExtra,\n        scrollVal = this.height + this.$item.data('height') + marginExpanded <= winsize.height ? position : this.height < winsize.height ? previewOffsetT - (winsize.height - this.height) : previewOffsetT;\n      $body.animate({\n        scrollTop: scrollVal\n      }, settings.speed);\n    },\n    setTransition: function () {\n      this.$previewEl.css('transition', 'height ' + settings.speed + 'ms ' + settings.easing);\n      this.$item.css('transition', 'height ' + settings.speed + 'ms ' + settings.easing);\n    },\n    getEl: function () {\n      return this.$previewEl;\n    }\n  };\n  return {\n    init: init,\n    addItems: addItems\n  };\n}();","map":{"version":3,"names":["$event","$","event","$special","resizeTimeout","special","debouncedresize","setup","on","handler","teardown","off","execAsap","context","args","arguments","dispatch","type","apply","clearTimeout","setTimeout","threshold","BLANK","fn","imagesLoaded","callback","$this","deferred","isFunction","Deferred","hasNotify","notify","$images","find","add","filter","loaded","proper","broken","isPlainObject","each","key","value","doneLoading","$proper","$broken","length","reject","resolve","call","imgLoaded","img","isBroken","src","inArray","push","data","notifyWith","unbind","bind","target","i","el","cached","complete","naturalWidth","undefined","naturalHeight","readyState","promise","Grid","$grid","$items","children","current","previewPos","scrollExtra","marginExpanded","$window","window","winsize","$body","transEndEventNames","transEndEventName","Modernizr","prefixed","support","csstransitions","settings","minHeight","speed","easing","init","config","extend","saveItemInfo","getWinSize","initEvents","addItems","$newitems","$item","offsetTop","offset","top","height","initItemsEvents","saveheight","preview","hidePreview","e","parent","index","showPreview","width","position","update","Preview","open","close","removeData","expandedIdx","create","prototype","$title","$description","$href","$details","append","$loading","$fullimage","$closePreview","$previewInner","$previewEl","getEl","setTransition","$currentItem","eq","removeClass","addClass","positionPreview","$itemEl","eldata","href","attr","largesrc","title","description","html","self","$largeImg","remove","is","show","load","$img","hide","fadeIn","proxy","setHeights","onEndFn","fadeOut","css","$expandedItem","calcHeight","heightPreview","itemHeight","previewOffsetT","scrollVal","animate","scrollTop"],"sources":["C:/Users/lamph/ReactProject/crowdfunding/src/js/grid.js"],"sourcesContent":["/*\n* debouncedresize: special jQuery event that happens once after a window resize\n*\n* latest version and complete README available on Github:\n* https://github.com/louisremi/jquery-smartresize/blob/master/jquery.debouncedresize.js\n*\n* Copyright 2011 @louis_remi\n* Licensed under the MIT license.\n*/\nvar $event = $.event,\n$special,\nresizeTimeout;\n\n$special = $event.special.debouncedresize = {\n\tsetup: function() {\n\t\t$( this ).on( \"resize\", $special.handler );\n\t},\n\tteardown: function() {\n\t\t$( this ).off( \"resize\", $special.handler );\n\t},\n\thandler: function( event, execAsap ) {\n\t\t// Save the context\n\t\tvar context = this,\n\t\t\targs = arguments,\n\t\t\tdispatch = function() {\n\t\t\t\t// set correct event type\n\t\t\t\tevent.type = \"debouncedresize\";\n\t\t\t\t$event.dispatch.apply( context, args );\n\t\t\t};\n\n\t\tif ( resizeTimeout ) {\n\t\t\tclearTimeout( resizeTimeout );\n\t\t}\n\n\t\texecAsap ?\n\t\t\tdispatch() :\n\t\t\tresizeTimeout = setTimeout( dispatch, $special.threshold );\n\t},\n\tthreshold: 250\n};\n\n// ======================= imagesLoaded Plugin ===============================\n// https://github.com/desandro/imagesloaded\n\n// $('#my-container').imagesLoaded(myFunction)\n// execute a callback when all images have loaded.\n// needed because .load() doesn't work on cached images\n\n// callback function gets image collection as argument\n//  this is the container\n\n// original: MIT license. Paul Irish. 2010.\n// contributors: Oren Solomianik, David DeSandro, Yiannis Chatzikonstantinou\n\n// blank image data-uri bypasses webkit log warning (thx doug jones)\nvar BLANK = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\n\n$.fn.imagesLoaded = function( callback ) {\n\tvar $this = this,\n\t\tdeferred = $.isFunction($.Deferred) ? $.Deferred() : 0,\n\t\thasNotify = $.isFunction(deferred.notify),\n\t\t$images = $this.find('img').add( $this.filter('img') ),\n\t\tloaded = [],\n\t\tproper = [],\n\t\tbroken = [];\n\n\t// Register deferred callbacks\n\tif ($.isPlainObject(callback)) {\n\t\t$.each(callback, function (key, value) {\n\t\t\tif (key === 'callback') {\n\t\t\t\tcallback = value;\n\t\t\t} else if (deferred) {\n\t\t\t\tdeferred[key](value);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction doneLoading() {\n\t\tvar $proper = $(proper),\n\t\t\t$broken = $(broken);\n\n\t\tif ( deferred ) {\n\t\t\tif ( broken.length ) {\n\t\t\t\tdeferred.reject( $images, $proper, $broken );\n\t\t\t} else {\n\t\t\t\tdeferred.resolve( $images );\n\t\t\t}\n\t\t}\n\n\t\tif ( $.isFunction( callback ) ) {\n\t\t\tcallback.call( $this, $images, $proper, $broken );\n\t\t}\n\t}\n\n\tfunction imgLoaded( img, isBroken ) {\n\t\t// don't proceed if BLANK image, or image is already loaded\n\t\tif ( img.src === BLANK || $.inArray( img, loaded ) !== -1 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// store element in loaded images array\n\t\tloaded.push( img );\n\n\t\t// keep track of broken and properly loaded images\n\t\tif ( isBroken ) {\n\t\t\tbroken.push( img );\n\t\t} else {\n\t\t\tproper.push( img );\n\t\t}\n\n\t\t// cache image and its state for future calls\n\t\t$.data( img, 'imagesLoaded', { isBroken: isBroken, src: img.src } );\n\n\t\t// trigger deferred progress method if present\n\t\tif ( hasNotify ) {\n\t\t\tdeferred.notifyWith( $(img), [ isBroken, $images, $(proper), $(broken) ] );\n\t\t}\n\n\t\t// call doneLoading and clean listeners if all images are loaded\n\t\tif ( $images.length === loaded.length ){\n\t\t\tsetTimeout( doneLoading );\n\t\t\t$images.unbind( '.imagesLoaded' );\n\t\t}\n\t}\n\n\t// if no images, trigger immediately\n\tif ( !$images.length ) {\n\t\tdoneLoading();\n\t} else {\n\t\t$images.bind( 'load.imagesLoaded error.imagesLoaded', function( event ){\n\t\t\t// trigger imgLoaded\n\t\t\timgLoaded( event.target, event.type === 'error' );\n\t\t}).each( function( i, el ) {\n\t\t\tvar src = el.src;\n\n\t\t\t// find out if this image has been already checked for status\n\t\t\t// if it was, and src has not changed, call imgLoaded on it\n\t\t\tvar cached = $.data( el, 'imagesLoaded' );\n\t\t\tif ( cached && cached.src === src ) {\n\t\t\t\timgLoaded( el, cached.isBroken );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if complete is true and browser supports natural sizes, try\n\t\t\t// to check for image status manually\n\t\t\tif ( el.complete && el.naturalWidth !== undefined ) {\n\t\t\t\timgLoaded( el, el.naturalWidth === 0 || el.naturalHeight === 0 );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// cached images don't fire load sometimes, so we reset src, but only when\n\t\t\t// dealing with IE, or image is complete (loaded) and failed manual check\n\t\t\t// webkit hack from http://groups.google.com/group/jquery-dev/browse_thread/thread/eee6ab7b2da50e1f\n\t\t\tif ( el.readyState || el.complete ) {\n\t\t\t\tel.src = BLANK;\n\t\t\t\tel.src = src;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn deferred ? deferred.promise( $this ) : $this;\n};\n\nvar Grid = (function() {\n\n\t\t// list of items\n\tvar $grid = $( '#og-grid' ),\n\t\t// the items\n\t\t$items = $grid.children( 'li' ),\n\t\t// current expanded item's index\n\t\tcurrent = -1,\n\t\t// position (top) of the expanded item\n\t\t// used to know if the preview will expand in a different row\n\t\tpreviewPos = -1,\n\t\t// extra amount of pixels to scroll the window\n\t\tscrollExtra = 0,\n\t\t// extra margin when expanded (between preview overlay and the next items)\n\t\tmarginExpanded = 10,\n\t\t$window = $( window ), winsize,\n\t\t$body = $( 'html, body' ),\n\t\t// transitionend events\n\t\ttransEndEventNames = {\n\t\t\t'WebkitTransition' : 'webkitTransitionEnd',\n\t\t\t'MozTransition' : 'transitionend',\n\t\t\t'OTransition' : 'oTransitionEnd',\n\t\t\t'msTransition' : 'MSTransitionEnd',\n\t\t\t'transition' : 'transitionend'\n\t\t},\n\t\ttransEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],\n\t\t// support for csstransitions\n\t\tsupport = Modernizr.csstransitions,\n\t\t// default settings\n\t\tsettings = {\n\t\t\tminHeight : 500,\n\t\t\tspeed : 350,\n\t\t\teasing : 'ease'\n\t\t};\n\n\tfunction init( config ) {\n\t\t\n\t\t// the settings..\n\t\tsettings = $.extend( true, {}, settings, config );\n\n\t\t// preload all images\n\t\t$grid.imagesLoaded( function() {\n\n\t\t\t// save item´s size and offset\n\t\t\tsaveItemInfo( true );\n\t\t\t// get window´s size\n\t\t\tgetWinSize();\n\t\t\t// initialize some events\n\t\t\tinitEvents();\n\n\t\t} );\n\n\t}\n\n\t// add more items to the grid.\n\t// the new items need to appended to the grid.\n\t// after that call Grid.addItems(theItems);\n\tfunction addItems( $newitems ) {\n\n\t\t$items = $items.add( $newitems );\n\n\t\t$newitems.each( function() {\n\t\t\tvar $item = $( this );\n\t\t\t$item.data( {\n\t\t\t\toffsetTop : $item.offset().top,\n\t\t\t\theight : $item.height()\n\t\t\t} );\n\t\t} );\n\n\t\tinitItemsEvents( $newitems );\n\n\t}\n\n\t// saves the item´s offset top and height (if saveheight is true)\n\tfunction saveItemInfo( saveheight ) {\n\t\t$items.each( function() {\n\t\t\tvar $item = $( this );\n\t\t\t$item.data( 'offsetTop', $item.offset().top );\n\t\t\tif( saveheight ) {\n\t\t\t\t$item.data( 'height', $item.height() );\n\t\t\t}\n\t\t} );\n\t}\n\n\tfunction initEvents() {\n\t\t\n\t\t// when clicking an item, show the preview with the item´s info and large image.\n\t\t// close the item if already expanded.\n\t\t// also close if clicking on the item´s cross\n\t\tinitItemsEvents( $items );\n\t\t\n\t\t// on window resize get the window´s size again\n\t\t// reset some values..\n\t\t$window.on( 'debouncedresize', function() {\n\t\t\t\n\t\t\tscrollExtra = 0;\n\t\t\tpreviewPos = -1;\n\t\t\t// save item´s offset\n\t\t\tsaveItemInfo();\n\t\t\tgetWinSize();\n\t\t\tvar preview = $.data( this, 'preview' );\n\t\t\tif( typeof preview != 'undefined' ) {\n\t\t\t\thidePreview();\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\tfunction initItemsEvents( $items ) {\n\t\t$items.on( 'click', 'span.og-close', function() {\n\t\t\thidePreview();\n\t\t\treturn false;\n\t\t} ).children( 'a' ).on( 'click', function(e) {\n\n\t\t\tvar $item = $( this ).parent();\n\t\t\t// check if item already opened\n\t\t\tcurrent === $item.index() ? hidePreview() : showPreview( $item );\n\t\t\treturn false;\n\n\t\t} );\n\t}\n\n\tfunction getWinSize() {\n\t\twinsize = { width : $window.width(), height : $window.height() };\n\t}\n\n\tfunction showPreview( $item ) {\n\n\t\tvar preview = $.data( this, 'preview' ),\n\t\t\t// item´s offset top\n\t\t\tposition = $item.data( 'offsetTop' );\n\n\t\tscrollExtra = 0;\n\n\t\t// if a preview exists and previewPos is different (different row) from item´s top then close it\n\t\tif( typeof preview != 'undefined' ) {\n\n\t\t\t// not in the same row\n\t\t\tif( previewPos !== position ) {\n\t\t\t\t// if position > previewPos then we need to take te current preview´s height in consideration when scrolling the window\n\t\t\t\tif( position > previewPos ) {\n\t\t\t\t\tscrollExtra = preview.height;\n\t\t\t\t}\n\t\t\t\thidePreview();\n\t\t\t}\n\t\t\t// same row\n\t\t\telse {\n\t\t\t\tpreview.update( $item );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// update previewPos\n\t\tpreviewPos = position;\n\t\t// initialize new preview for the clicked item\n\t\tpreview = $.data( this, 'preview', new Preview( $item ) );\n\t\t// expand preview overlay\n\t\tpreview.open();\n\n\t}\n\n\tfunction hidePreview() {\n\t\tcurrent = -1;\n\t\tvar preview = $.data( this, 'preview' );\n\t\tpreview.close();\n\t\t$.removeData( this, 'preview' );\n\t}\n\n\t// the preview obj / overlay\n\tfunction Preview( $item ) {\n\t\tthis.$item = $item;\n\t\tthis.expandedIdx = this.$item.index();\n\t\tthis.create();\n\t\tthis.update();\n\t}\n\n\tPreview.prototype = {\n\t\tcreate : function() {\n\t\t\t// create Preview structure:\n\t\t\tthis.$title = $( '<h3></h3>' );\n\t\t\tthis.$description = $( '<p></p>' );\n\t\t\tthis.$href = $( '<a href=\"#\">Read More</a>' );\n\t\t\tthis.$details = $( '<div class=\"og-details\"></div>' ).append( this.$title, this.$description, this.$href );\n\t\t\tthis.$loading = $( '<div class=\"og-loading\"></div>' );\n\t\t\tthis.$fullimage = $( '<div class=\"og-fullimg\"></div>' ).append( this.$loading );\n\t\t\tthis.$closePreview = $( '<span class=\"og-close\"></span>' );\n\t\t\tthis.$previewInner = $( '<div class=\"og-expander-inner\"></div>' ).append( this.$closePreview, this.$fullimage, this.$details );\n\t\t\tthis.$previewEl = $( '<div class=\"og-expander\"></div>' ).append( this.$previewInner );\n\t\t\t// append preview element to the item\n\t\t\tthis.$item.append( this.getEl() );\n\t\t\t// set the transitions for the preview and the item\n\t\t\tif( support ) {\n\t\t\t\tthis.setTransition();\n\t\t\t}\n\t\t},\n\t\tupdate : function( $item ) {\n\n\t\t\tif( $item ) {\n\t\t\t\tthis.$item = $item;\n\t\t\t}\n\t\t\t\n\t\t\t// if already expanded remove class \"og-expanded\" from current item and add it to new item\n\t\t\tif( current !== -1 ) {\n\t\t\t\tvar $currentItem = $items.eq( current );\n\t\t\t\t$currentItem.removeClass( 'og-expanded' );\n\t\t\t\tthis.$item.addClass( 'og-expanded' );\n\t\t\t\t// position the preview correctly\n\t\t\t\tthis.positionPreview();\n\t\t\t}\n\n\t\t\t// update current value\n\t\t\tcurrent = this.$item.index();\n\n\t\t\t// update preview´s content\n\t\t\tvar $itemEl = this.$item.children( 'a' ),\n\t\t\t\teldata = {\n\t\t\t\t\thref : $itemEl.attr( 'href' ),\n\t\t\t\t\tlargesrc : $itemEl.data( 'largesrc' ),\n\t\t\t\t\ttitle : $itemEl.data( 'title' ),\n\t\t\t\t\tdescription : $itemEl.data( 'description' )\n\t\t\t\t};\n\n\t\t\tthis.$title.html( eldata.title );\n\t\t\tthis.$description.html( eldata.description );\n\t\t\tthis.$href.attr( 'href', eldata.href );\n\n\t\t\tvar self = this;\n\t\t\t\n\t\t\t// remove the current image in the preview\n\t\t\tif( typeof self.$largeImg != 'undefined' ) {\n\t\t\t\tself.$largeImg.remove();\n\t\t\t}\n\n\t\t\t// preload large image and add it to the preview\n\t\t\t// for smaller screens we don´t display the large image (the media query will hide the fullimage wrapper)\n\t\t\tif( self.$fullimage.is( ':visible' ) ) {\n\t\t\t\tthis.$loading.show();\n\t\t\t\t$( '<img/>' ).load( function() {\n\t\t\t\t\tvar $img = $( this );\n\t\t\t\t\tif( $img.attr( 'src' ) === self.$item.children('a').data( 'largesrc' ) ) {\n\t\t\t\t\t\tself.$loading.hide();\n\t\t\t\t\t\tself.$fullimage.find( 'img' ).remove();\n\t\t\t\t\t\tself.$largeImg = $img.fadeIn( 350 );\n\t\t\t\t\t\tself.$fullimage.append( self.$largeImg );\n\t\t\t\t\t}\n\t\t\t\t} ).attr( 'src', eldata.largesrc );\t\n\t\t\t}\n\n\t\t},\n\t\topen : function() {\n\n\t\t\tsetTimeout( $.proxy( function() {\t\n\t\t\t\t// set the height for the preview and the item\n\t\t\t\tthis.setHeights();\n\t\t\t\t// scroll to position the preview in the right place\n\t\t\t\tthis.positionPreview();\n\t\t\t}, this ), 25 );\n\n\t\t},\n\t\tclose : function() {\n\n\t\t\tvar self = this,\n\t\t\t\tonEndFn = function() {\n\t\t\t\t\tif( support ) {\n\t\t\t\t\t\t$( this ).off( transEndEventName );\n\t\t\t\t\t}\n\t\t\t\t\tself.$item.removeClass( 'og-expanded' );\n\t\t\t\t\tself.$previewEl.remove();\n\t\t\t\t};\n\n\t\t\tsetTimeout( $.proxy( function() {\n\n\t\t\t\tif( typeof this.$largeImg !== 'undefined' ) {\n\t\t\t\t\tthis.$largeImg.fadeOut( 'fast' );\n\t\t\t\t}\n\t\t\t\tthis.$previewEl.css( 'height', 0 );\n\t\t\t\t// the current expanded item (might be different from this.$item)\n\t\t\t\tvar $expandedItem = $items.eq( this.expandedIdx );\n\t\t\t\t$expandedItem.css( 'height', $expandedItem.data( 'height' ) ).on( transEndEventName, onEndFn );\n\n\t\t\t\tif( !support ) {\n\t\t\t\t\tonEndFn.call();\n\t\t\t\t}\n\n\t\t\t}, this ), 25 );\n\t\t\t\n\t\t\treturn false;\n\n\t\t},\n\t\tcalcHeight : function() {\n\n\t\t\tvar heightPreview = winsize.height - this.$item.data( 'height' ) - marginExpanded,\n\t\t\t\titemHeight = winsize.height;\n\n\t\t\tif( heightPreview < settings.minHeight ) {\n\t\t\t\theightPreview = settings.minHeight;\n\t\t\t\titemHeight = settings.minHeight + this.$item.data( 'height' ) + marginExpanded;\n\t\t\t}\n\n\t\t\tthis.height = heightPreview;\n\t\t\tthis.itemHeight = itemHeight;\n\n\t\t},\n\t\tsetHeights : function() {\n\n\t\t\tvar self = this,\n\t\t\t\tonEndFn = function() {\n\t\t\t\t\tif( support ) {\n\t\t\t\t\t\tself.$item.off( transEndEventName );\n\t\t\t\t\t}\n\t\t\t\t\tself.$item.addClass( 'og-expanded' );\n\t\t\t\t};\n\n\t\t\tthis.calcHeight();\n\t\t\tthis.$previewEl.css( 'height', this.height );\n\t\t\tthis.$item.css( 'height', this.itemHeight ).on( transEndEventName, onEndFn );\n\n\t\t\tif( !support ) {\n\t\t\t\tonEndFn.call();\n\t\t\t}\n\n\t\t},\n\t\tpositionPreview : function() {\n\n\t\t\t// scroll page\n\t\t\t// case 1 : preview height + item height fits in window´s height\n\t\t\t// case 2 : preview height + item height does not fit in window´s height and preview height is smaller than window´s height\n\t\t\t// case 3 : preview height + item height does not fit in window´s height and preview height is bigger than window´s height\n\t\t\tvar position = this.$item.data( 'offsetTop' ),\n\t\t\t\tpreviewOffsetT = this.$previewEl.offset().top - scrollExtra,\n\t\t\t\tscrollVal = this.height + this.$item.data( 'height' ) + marginExpanded <= winsize.height ? position : this.height < winsize.height ? previewOffsetT - ( winsize.height - this.height ) : previewOffsetT;\n\t\t\t\n\t\t\t$body.animate( { scrollTop : scrollVal }, settings.speed );\n\n\t\t},\n\t\tsetTransition  : function() {\n\t\t\tthis.$previewEl.css( 'transition', 'height ' + settings.speed + 'ms ' + settings.easing );\n\t\t\tthis.$item.css( 'transition', 'height ' + settings.speed + 'ms ' + settings.easing );\n\t\t},\n\t\tgetEl : function() {\n\t\t\treturn this.$previewEl;\n\t\t}\n\t}\n\n\treturn { \n\t\tinit : init,\n\t\taddItems : addItems\n\t};\n\n})();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}